Methods


Bacterial strains and growth conditions

In general, all E. coli strains were grown at 37 °C and 180 r.p.m. in Lysogeny Broth (LB-Lennox broth, Sigma-Aldrich) supplemented with antibiotics, unless stated otherwise. When appropriate, 50 µg ml −1 kanamycin and/or 34 µg ml −1 chloramphenicol (denoted with +K or +C, respectively) were added to media. All bacterial strains and libraries were stored at −80 °C for long-term storage in 25% sterile glycerol (Sigma-Aldrich). All library assays were performed in NEB 10-beta strain backgrounds (araD139 Δ(ara-leu)7697 fhuA lacX74 galK (Φ80 Δ(lacZ) M15) mcrA galU recA1 endA1 nupG rpsL Δ(mrr-hsdRMS-mcrBC), New England Biolabs). A complete list of strains and plasmids is provided in Supplementary Data 6. A list of primers and gene sequences used in this work is provided in Supplementary Data 7.


Construction of sgl expression strains

Template sequences for sgl Hgal1 , sgl M , sgl MS2 , sgl PRR1 and sgl PP7 were identified from the NCBI-deposited genomes: NC_019922, NC_019707, NC_001417, NC_008294 and NC_001628, respectively. As a toxic gene control, we used protein PC02664 detected from a phage genome infecting E. coli 37,38 . Each gene was codon-optimized for E. coli, had BsaI sites removed and was synthesized de novo (Integrated DNA Technologies (IDT), GenScript and Twist Bioscience). Sgl genes were cloned into pBA368, a Golden Gate gfp dropout vector originally derived from pBbA2K-rfp (Addgene plasmid 35327). DNA assembly was performed via Golden Gate assembly using BsaI (New England Biolabs), pBA368 and one of the synthesized sgls. Reactions were cleaned up using DNA Clean and Concentrate (Zymo Research), transformed into NEB 10-beta competent cells (New England Biolabs) and plated on LB + K. GFP − colonies were picked, grown up, stored at −80 °C and verified for the intact sgl.

For all strains, lytic activity was measured via plate reader assay before constructing suppressor libraries. Strains were inoculated into LB + K media overnight. Cells were diluted 50× into LB + K media with varying levels of aTc ranging from 0 ng ml −1 to 200 ng ml −1 in a flat-bottom 96-well plate (Corning, 3904). Sgl-mediated lysis progressed in Tecan Infinite F200 readers with orbital shaking and OD 600 readings every 15 minutes for 3-5 hours at 37 °C. Strains with functional Sgl phenotypes typically had visible lysis after ~90 minutes.

Plasmid pBAD24-sgl PP7 -lacZ α was constructed in multiple steps. First, the sgl PP7 (NC_001628.1) was codon-optimized for E. coli expression (IDT), and a synthetic DNA construct was obtained (GenScript). The synthetic sgl PP7 DNA was amplified using primers KC94 and KC116, and the resulting PCR product was gel-purified (Qiagen), digested with restriction enzymes EcoRI and XhoI (New England Biolabs) and subcloned into plasmid pKC3, replacing sgl M in pKC3.

Plasmid pBAD24-gfp-sgl PP7 -lacZ α was constructed via the overlap extension PCR method using primers KC36 and KC127 to amplify a gfp megaprimer in the first PCR 39 . The megaprimer was then used to insert gfp into pBAD24-sgl PP7 -lacZ α plasmid during the second PCR. The product of the second PCR reaction was treated with DpnI and then transformed into competent XL1Blue cells. The constructs were verified by sequencing (Eton Biosciences) with primers KC30 and KC31.


Construction of Dub-seq suppressor libraries

Here, we sourced previously constructed E. coli (BW25113) Dub-seq library (pFAB5516) 15 for building Dub-seq suppressor libraries. As reported earlier, the average fragment size in E. coli (BW25113) Dub-seq library is 2.6 kb with 2-3 genes covered completely. More than 95% of all genes are covered in the library by at least one fragment, and just 135 genes are not covered in their entirety. To build Dub-seq suppressor libraries, we transformed the plasmid Dub-seq pFAB5516 library 15 directly into sgl expression strains (above) via electroporation. Competent cells were created from an overnight culture diluted 70× into 25 ml of LB + K, grown at 37 °C and 180 r.p.m. for ~3 hours until OD 600 was 0.5-0.7. The resulting mid-log cultures were chilled at 4 °C. Cultures were centrifuged (Beckman Coulter, Allegra 25R) for 5 minutes at 8,000g and subjected to three washes: (1) once with 25 ml of chilled water and (2) twice with 15 ml of chilled 10% glycerol. The cell pellets after the final glycerol wash were resuspended in 10% glycerol, yielding ∼250 µl of cells.

For each sgl library, five parallel transformations were performed to minimize inefficiency bias from any individual transformation. Each transformation consisted of 40 µl of competent cells and 10 ng of the pFAB5516 plasmid library transferred to a chilled cuvette (1-mm gap, VWR). Cuvettes were electroporated using a BTX-Harvard Apparatus ECM 630 Exponential Decay Wave Electroporator with the following parameters: voltage (1,800 V), resistance (200 Ω) and capacitance (25 µF). After each transformation, cells were recovered in 1 ml of LB + K media at 37 °C for 1 hour. For each transformation, 980 µl of each recovery was plated and spread out onto LB + K + C agar in a 245-mm × 245-mm bioassay dish (Nunc). The remaining 20 µl of cells was serially diluted and plated onto a standard LB + K + C agar plate to estimate the number of transformants per electroporation. All transformations were incubated at 37 °C overnight.

After overnight incubation at 37 °C, we first quantified the transformations to ensure that we had at least 250,000 total estimated colonies (that is, ≥5× pFAB5516 library coverage). We then picked ten colonies from each of the transformations, carried out PCR and followed by Sanger sequencing to ensure that the sgl was free of mutations. If any sgl mutations were detected in this subset, we repeated the library construction. The transformant colonies were scraped and resuspended in 25 ml of LB + K + C media and processed as described above to make multiple 1-ml −80 °C freezer stocks 15 . Because pFAB5516 was characterized earlier 15 , there was no need to perform library mapping PCRs at this step. An overview of the suppressor library composition is summarized in Supplementary Table 1, and a gene-level description is shown in Supplementary Data 2.


Liquid culture fitness experiments

Competitive fitness experiments were performed in liquid culture with two replicate experiments performed per sgl suppressor experiment. In brief, a 1-ml aliquot of suppressor Dub-seq library was gently thawed and used to inoculate 25 ml of LB + K + C media. The library culture was grown to an OD 600 of ~1.0 at 37 °C. From this culture, two 1-ml pellets were collected, comprising the 'Time 0' or reference samples in BarSeq analysis. The remaining cells were diluted to a starting OD 600 of 0.02 in LB + K + C media. A 690-µl volume of cells was mixed with 10 µl of diluted aTc (Sigma-Aldrich) and transferred to a 48-well microplate (700 µl per well) (Greiner Bio-One, 677102) and covered with breathable film (Breathe-Easy). For all experiments, unless otherwise noted, aTc was used at 15.6 ng ml −1 . The progress of Sgl lysis was followed in Tecan Infinite F200 readers with orbital shaking and OD 600 readings every 15 minutes for 8-12 hours at 37 °C. At the end of the experiment, the contents of each well were collected and spun down on a tabletop centrifuge to collect as a pellet individually. All pellets were stored at −80 °C until prepared for BarSeq (detailed below). A summary of all library experiments is described in Supplementary Data 1.


BarSeq of Dub-seq pooled fitness assay samples

Plasmid DNA was isolated from stored pellets of enriched and 'Time 0' ('time=zero') Dub-seq samples using the QIAprep Spin Miniprep Kit (Qiagen). We performed 98 °C BarSeq PCR protocol as described previously 40 . BarSeq PCR in a 50-µl total volume consisted of 20 µmol of each primer and 150-200 ng of plasmid DNA. For the HiSeq 4000 runs, we used an equimolar mixture of four common P1 oligos for BarSeq, with variable lengths of random bases at the start of the sequencing reactions (2-5 nucleotides). Equal volumes (5 µl) of the individual BarSeq PCRs were pooled, and 50 µl of the pooled PCR product was purified with the DNA Clean and Concentrator Kit (Zymo Research). The final https://doi.org/10.1038/s41589-023-01269-7

BarSeq library was eluted in 40 µl of water. The BarSeq samples were sequenced on Illumina HiSeq 4000 with 50 SE runs.


Data processing and analysis of BarSeq reads

Fitness data for Dub-seq suppressor libraries were analyzed as previously described with a few modifications, using 'barseq' script from the Dub-seq Python library with default settings 15 . From a reference list of barcodes mapped to the genomic regions (BPSeq and BAGseq), and the barcode counts in each sample (BarSeq), we estimated fitness values for each genomic fragment using the 'gscore' script from the Dub-seq Python library. At this step, instead of pooling all Time 0 samples together, the Time 0 samples within each suppressor library were pooled, because the composition and abundance of library members between libraries was distinct. For instance, MS2 experiments had Time 0 samples different from those of the PP7 experiments. The 'gscore' script identifies a subset of barcodes mapped to the genomic regions that are well represented in the Time 0 samples for a given experiment set. A barcode was required to have at least ten reads in at least one Time 0 (sample before the experiment) sample to be considered a valid barcode for a given experiment set. The 'gscore' script was used to calculate a fitness score (normalized ratio of counts between the treatment sample and sum of counts across all Time 0 samples) for the strains with valid barcodes. From the fitness scores calculated for all Dub-seq fragments, a fitness score for each individual gene that is covered by at least one fragment was calculated using non-negative least squares regression as described previously 15 . The non-negative regression determines if the high fitness of the fragments covering the gene is due to that particular gene or its nearby neighboring gene and avoids overfitting. Raw data for reads, f-scores and g-scores across all experiments are provided in Supplementary Data 3-5, respectively.

We applied additional filters to ensure that the fragments covering the gene had a genuine benefit. In brief, we identified a subset of the effects to be reliable if the fitness effect was large relative to the variation between start samples (|score| ≥ 2) for both mean and gene fitness scores 15 ; if the g-scores and f-scores appeared to be reproducible across replicate experiments; and if the number of reads for those fragments was consistently sufficient for the gene score to have little noise. Due to the strong selection pressure and subsequent fitness distribution skew resulting from Sgl activity, all candidate genes passing these filters were then subjected to manual scrutiny. For each gene, all barcodes were analyzed by f-score and reads. Several genes covered by few fragments (that is, ≤3) had inconsistent f-scores, with orders of magnitude different read depth. This bias yielded inflated g-scores and were discarded from further analysis. However, genes covered by individual fragments were kept in such cases.


ASKA-based validations

To validate select lysis suppressor phenotypes from suppressor screens, we performed plate reader assays using additional plasmids derived from the overexpression ASKA library 25 . ASKA plasmids were recovered from the ASKA collection using a QIAprep Miniprep Kit (Qiagen), transformed into the corresponding sgl expression strain and plated on LB + K + C agar. Transformants were verified by Sanger sequencing.

Plate reader assays for validations were performed as follows. Strains were inoculated into LB + K + C overnight. Cells were diluted 50× into LB + K + C media and allowed to grow at 37 °C and 180 r.p.m. to OD 600 = 0.5. Cells were then transferred to a 96-well plate (Corning, 3904) and induced with varying levels of aTc ranging from 0 ng ml −1 to 250 ng ml −1 for sgl expression and varying levels of IPTG ranging from 0 µM to 200 µM for ASKA gene expression. Sgl lysis progressed in Tecan Infinite F200 readers with orbital shaking and OD 600 readings every 10 minutes for 3-5 hours at 37 °C. Strains with unsuppressed lysis phenotypes typically had visible lysis after ~90 minutes.


Suppression by heterologous flippase genes

Strain TB28 E. coli was co-transformed with plasmids carrying inducible sgl genes (sgl M , sgl PP7 and GFP-sgl PP7 ) and compatible plasmids expressing MurJ orthologs (MurJ TA 35 and AmJ 36 ) and selected on LB-Ampicliin-Spectinomycin-IPTG (100 µM) agar plates. The transformants were grown overnight at 37 °C with the same selective media, and, on the following day, 1:200 dilutions of the overnights were added to 25 ml of LB with appropriate antibiotics and IPTG (100 µM) in a 250-ml flask and grown at 37 °C in an orbital shaker (New Brunswick Scientific gyrotory water bath shaker, G76) at 250 r.p.m. The cultures were induced with 0.4% w/v l-arabinose (Sigma-Aldrich) at OD 550 of ~0.2. The growth curves were plotted using RStudio version 1.3.1073 and Inkscape 1.0.


Isolation of GFP-Sgl PP7 -resistant mutants

Cultures of XL1-Blue pBAD24-gfp-sgl PP7 -lacZ α were grown overnight at 37 °C with aeration. To perform the Sgl screen/selection, 100 µl of overnight culture was mixed with 400 µl of LB and plated on LB-Arabinose-Ampicllin-IPTG-X-gal agar plates (100 mm). After overnight incubation at 37 °C, blue colonies were picked and purified on the same selection media. The Sgl PP7 -resistant colonies were grown overnight, and both genomic (Qiagen QIAamp DNA Micro Kit) and plasmid (Qiagen Miniprep Kit) DNA were extracted. To rule out possible mutations in the lysis gene, the plasmid was sequenced with primers KC30 and KC31. The murJ locus in the gDNA of the Sgl PP7 -resistant mutants was amplified by PCR using Phusion (New England Biolabs) with the primers KC230 and KC234. The amplified PCR product was gel-purified and sequenced with the primers KC230, KC231, KC232, KC233 and KC234.